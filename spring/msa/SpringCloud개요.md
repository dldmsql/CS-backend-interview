# MSA with Spring Cloud

> 해당 포스트는 인프런 강의를 수강하며 기록한 내용을 재정리한 것입니다.

MSA로 넘어오면서 인프라 환경이 바뀌고 그에 따라 어플리케이션 구조도 바뀌고 있다. 그 특징들을 정리해보자. 

## Anti-fragile

- Auto Scaling

인스턴스를 auto-sacling으로 묶어서 피크에서는 개수를 늘리고 비수기에는 줄이는 작업을 자동으로 해주는 것이다.

- microservices

복잡하게 얽혀 있는 서비스와 구성이 마이크로서비스이다. 넷플릭스와 아마존은 클라우드 서비스를 가장 잘 구축한 사례이다. 

마이크로서비스는 클라우드 네이티브 어플리케이션의 핵심이다. 

- chaos engineering

시스템이 예측 불가능한 상황에서도 안정적인 서비스를 제공할 수 있는 것을 말한다.

- continuous deployments

지속적인 배포. 클라우드 네이티브 서비스는 분리되어 개발되는 데, 하나의 어플리케이션을 구성하는 수십개의 어플리케이션을 빌드배포하는 작업이 하나의 큰 업무로 취급된다. 그래서 이런 것들을 자동화되는 시스템을 구축하고, 하나의 작업에서 다른 작업으로 연계되는 파이프라인을 구축하는 게 중요하다. 

시스템의 통합적 운영을 위해서 꾸준하게 등장했던 개념이다.

## 클라우드 네이티브 아키텍처

- 확장 가능한 아키텍처
    - 시스템의 수평적 확장에 유연하다.
    
    scale-out : 같은 사양의 서버 개수를 늘리자
    
    scale-up : 서버의 사양을 높이자
    
    - 확장된 서버로 시스템의 부하 분산, 가용성 보장
    - 시스템 또는, 서비스 어플리케이션 단위의 패키지 ( 컨테이너 기반 패키지 )
    - 모니터링

- 탄력적 아키텍처
    - 서비스 생성-통합-배포, 비즈니스 환경 변화에 대응 시간 단축
        
        cicd라는 파이프라인을 통해 시간을 단축했다.
        
        수많은 개발, 테스트, 운영 환경 등을 고려해야 해서 같은 내용을 서비스 배포하는 과정이 자동화되어 있지 않다면, 개발자가 로직 개발보다 배포에 더 신경써야 한다.
        
    - 분할된 서비스 구조
        
        분할된 서비스 간의 통신이 중요하다.
        
    - 무상태 통신 프로토콜
    - 서비스의 추가와 삭제를 자동으로 감지해야 한다.
    - 변경된 서비스 요청에 따라 사용자 요청 처리 ( 동적 처리 )
    
- 장애 격리
    - 특정 서비스에 오류가 발생해도 다른 서비스에 영향을 주지 않는다.
    

클라우드 네이티브 아키텍처에 따라 구현된 것을 클라우드 네이티브 어플리케이션이라 한다.

이것의 특징은 아래와 같다.

- 마이크로서비스
- cicd로 배포
- DevOps
    
    구현-배포-운영 되는 과정을 반복함으로써 고객이 원하는 결과를 내는 데 초점을 둔다.
    
- 컨테이너